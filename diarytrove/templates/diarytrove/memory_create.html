{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DiaryTrove | {%trans "Create Memory"%}</title>
    <link rel="stylesheet" href="{%static 'diarytrove/css/style.css'%}">
    <link rel="shortcut icon" type="image/png" href="{% static 'diarytrove/assets/favicon.png' %}">
</head>

<body>
    <header>
        <p id="title"><b><a href="{%url 'home'%}">DiaryTrove</a> | {%trans "Create Memory"%}</b></p>
        <div id="headerfill"></div>
        <div id="buttonrow">
            <a href="{%url 'home'%}">{%trans "Home"%}</a>
        </div>
    </header>

    <main>
        <form id="upload-form" method="post" action="{%url 'memory_create'%}">
            {% csrf_token %}
            <div id="formcontent">
                <div>
                    <label>{%trans "Memory title:"%}<br>
                    <input type="text" name="title" id="title" required>
                    </label>
                </div>
                <br>
                <div>
                    <label>{%trans "Memory content:"%}<br>
                    <textarea name="content" id="content" rows="6" required></textarea>
                    </label>
                </div>
                <br>
                <div>
                    <p>{%trans "Select your current mood:"%}</p>
                    <div id="moodsdiv">
                        {%for mood in moods%}
                        <input type="radio" name="mood" value={{forloop.counter}} id="mood{{forloop.counter}}"
                               style="display: none" {%if forloop.counter == 1%}checked{%endif%}>
                        <label for="mood{{forloop.counter}}">{{mood}}</label>
                        {%endfor%}
                    </div>
                </div>
                <br>
                <div id="checkboxdiv">
                    <label for="default_lock_time">{%trans "Use default lock time:"%}</label>
                    <input type="checkbox" name="default_lock_time" id="default_lock_time" checked
                           {%if not profile.editable_lock_time%}disabled style="cursor: initial"{%endif%}>
                </div>
                <div id="locktimediv">
                    <br>
                    <label>{%trans "Lock time in days:"%}<br>
                        <input type="number" name="lock_time" id="lock_time" value={{profile.lock_time}} min=1>
                    </label>
                </div>
                <br>
                <input id="file-input" type="file" style="display:none" multiple>
                <div>
                    <button type="button" id="add-files-btn">{%trans "Add files"%}</button>
                    <span id="selected-count">{%trans "No files selected"%}</span>
                </div>
                <ul id="file-list"></ul>
            </div>
            <br>
            <input type="submit" value="{%trans 'Create memory'%}">
        </form>
        <br id="errorbr" style="display: none"><p id="error" style="display: none"><b id="errorbold"></b></p>
    </main>

    {%include "diarytrove/footer.html"%}
    <script src="{% url 'javascript-catalog' %}"></script>
    <script src="{% static 'diarytrove/js/exitwarn.js' %}"></script>
    <script src="{% static 'diarytrove/js/memory_create.js' %}"></script>
</body>
</html>